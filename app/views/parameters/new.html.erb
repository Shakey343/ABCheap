<div class="page-container">
  <div class="title"  style="text-align:center">
      <div id= "map" class="md-trigger" style="width: 100%; height: 260px;"
        data-controller="mapbox"
        data-mapbox-markers-value="<%= @markers.to_json %>"
        data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
      </div>
  </div>
  <div class="rounded container abc-form info-box">
    <%= simple_form_for @parameter do |f| %>
      <div class="flex-items">
        <%= f.input :origin, placeholder: 'Origin', input_html: { class: 'orig' }, label: false %>
        <%= f.input :destination, placeholder: 'Destination', input_html: { class: 'dest' }, label: false %>
      </div>
      <%= f.input :preferred_start, label: "Preferred Departure", as: :string, required: false, input_html: {class: "datepicker"}, label_html: {class: "text-center w-100"}, placeholder: 'Preferred Departure' %>
      <div class="collapse" id="collapseExample">
        <div class="card card-body">
              <%= f.input :earliest_start, label: "Earliest Departure", as: :string, required: false, input_html: {class: "datepicker"}, placeholder: 'Start Date' %>
              <%= f.input :latest_finish, label: "Latest Arrival", as: :string, required: false, input_html: {class: "datepicker"}, placeholder: 'End Date' %>
        </div>
      </div>
      <p>
        <div class="d-flex justify-content-center">
          <%= f.input_field :car, as: :boolean, boolean_style: :inline, input_html: {class: "checkboxes"} %>
          <p style="width: 100px; height: 25px;" class="text-center mb-0 leftit">Car?</p>
          <button class="btn btn-primary w-25 pt-0 rightit" style="height: 25px;" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
          Flexibility
          </button>
          <p style="width: 100px; height: 25px;" class="text-center mb-0">Railcard?</p>
            <%= f.input_field :railcard, as: :boolean, boolean_style: :inline, input_html: {class: "checkboxes"} %>
        </div>
        <p class = "optional-below">(optional)</p>
      </p>
      <div class="form-actions text-center p-3">
        <%= f.submit class: 'btn btn-block abc-btn shift-up', value: 'Take me there!', data: { disable_with: 'ABCheaping...' } %>
      </div>
    <% end %>
  </div>
</div>

<%= render 'shared/footer_nav' %>
<script>
  window.setTimeout(() => {
      document.querySelector(".mapboxgl-ctrl-geolocate").click();

    }, 200);
</script>
